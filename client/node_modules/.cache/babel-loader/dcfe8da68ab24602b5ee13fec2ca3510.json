{"ast":null,"code":"var _jsxFileName = \"F:\\\\Programming\\\\JS\\\\React\\\\productSinchronizator\\\\client\\\\src\\\\pages\\\\Auth.tsx\",\n    _s = $RefreshSig$();\n\nimport { Container, Form, Card, Button } from 'react-bootstrap';\nimport React, { useContext, useState } from 'react';\nimport { loginApi } from '../httpApi/UserApi';\nimport { Context } from '..';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Auth = () => {\n  _s();\n\n  const {\n    user\n  } = useContext(Context);\n  const [name, setName] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const navi = useNavigate();\n\n  const click = async () => {\n    try {\n      const decodeUser = await loginApi(name, pwd);\n      user.isAuth = true;\n      user.user = decodeUser;\n      navi(\"/panel\");\n    } catch (e) {\n      alert(\"Ошибка авторизации!!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex justify-content-center mt-5 pt-2\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 600,\n        height: 300\n      },\n      className: \"px-5 pb-5 pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"m-auto\",\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F...\",\n          className: \"mt-2\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C...\",\n          className: \"mt-2\",\n          value: pwd,\n          onChange: e => setPwd(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mt-2\",\n          onClick: click,\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Auth, \"7MhrcvgmDQkW/Ro2Dp9rqH+xuGQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["F:/Programming/JS/React/productSinchronizator/client/src/pages/Auth.tsx"],"names":["Container","Form","Card","Button","React","useContext","useState","loginApi","Context","useNavigate","Auth","user","name","setName","pwd","setPwd","navi","click","decodeUser","isAuth","e","alert","width","height","target","value"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,MAAhC,QAA8C,iBAA9C;AACA,OAAOC,KAAP,IAA6BC,UAA7B,EAAyCC,QAAzC,QAAyD,OAAzD;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,OAAT,QAAwB,IAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAUA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AAEf,QAAM;AAAEC,IAAAA;AAAF,MAAWN,UAAU,CAACG,OAAD,CAA3B;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMU,IAAI,GAAGP,WAAW,EAAxB;;AAEA,QAAMQ,KAAK,GAAG,YAAY;AACtB,QAAI;AACA,YAAMC,UAAU,GAAG,MAAMX,QAAQ,CAACK,IAAD,EAAOE,GAAP,CAAjC;AACAH,MAAAA,IAAI,CAACQ,MAAL,GAAc,IAAd;AACAR,MAAAA,IAAI,CAACA,IAAL,GAAYO,UAAZ;AACAF,MAAAA,IAAI,CAAC,QAAD,CAAJ;AAEH,KAND,CAOA,OAAOI,CAAP,EAAU;AACNC,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,GAXD;;AAYA,sBACI,QAAC,SAAD;AACI,IAAA,SAAS,EAAC,yCADd;AAAA,2BAEI,QAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,GAAT;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OAAb;AAA0C,MAAA,SAAS,EAAC,gBAApD;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA,gCACI,QAAC,IAAD,CAAM,OAAN;AAAc,UAAA,WAAW,EAAC,kEAA1B;AACI,UAAA,SAAS,EAAC,MADd;AAEI,UAAA,KAAK,EAAEX,IAFX;AAGI,UAAA,QAAQ,EAAGQ,CAAD,IAAsCP,OAAO,CAACO,CAAC,CAACI,MAAF,CAASC,KAAV;AAH3D;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI,QAAC,IAAD,CAAM,OAAN;AAAc,UAAA,IAAI,EAAC,UAAnB;AAA8B,UAAA,WAAW,EAAC,oFAA1C;AACI,UAAA,SAAS,EAAC,MADd;AAEI,UAAA,KAAK,EAAEX,GAFX;AAGI,UAAA,QAAQ,EAAGM,CAAD,IAAsCL,MAAM,CAACK,CAAC,CAACI,MAAF,CAASC,KAAV;AAH1D;AAAA;AAAA;AAAA;AAAA,gBALJ,eASI,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,MAAlB;AACI,UAAA,OAAO,EAAER,KADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAqBH,CAxCD;;GAAMP,I;UAKWD,W;;;KALXC,I;AA0CN,eAAeA,IAAf","sourcesContent":["import { Container, Form, Card, Button } from 'react-bootstrap'\r\nimport React, { ChangeEvent, useContext, useState } from 'react';\r\nimport { loginApi } from '../httpApi/UserApi';\r\nimport { Context } from '..';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface IUser {\r\n    id: number;\r\n    name: string;\r\n    role: string;\r\n    iat: number;\r\n    exp: number;\r\n}\r\n\r\nconst Auth = () => {\r\n\r\n    const { user } = useContext(Context);\r\n    const [name, setName] = useState(\"\");\r\n    const [pwd, setPwd] = useState(\"\");\r\n    const navi = useNavigate();\r\n\r\n    const click = async () => {\r\n        try {\r\n            const decodeUser = await loginApi(name, pwd);\r\n            user.isAuth = true;\r\n            user.user = decodeUser;\r\n            navi(\"/panel\");\r\n\r\n        }\r\n        catch (e) {\r\n            alert(\"Ошибка авторизации!!\");\r\n        }\r\n    }\r\n    return (\r\n        <Container\r\n            className='d-flex justify-content-center mt-5 pt-2' >\r\n            <Card style={{ width: 600, height: 300 }} className='px-5 pb-5 pt-2'>\r\n                <h2 className='m-auto'>Авторизация</h2>\r\n                <Form className='d-flex flex-column'>\r\n                    <Form.Control placeholder='Введите имя...'\r\n                        className='mt-2'\r\n                        value={name}\r\n                        onChange={(e: ChangeEvent<HTMLInputElement>) => setName(e.target.value)} />\r\n                    <Form.Control type='password' placeholder='Введите пароль...'\r\n                        className='mt-2'\r\n                        value={pwd}\r\n                        onChange={(e: ChangeEvent<HTMLInputElement>) => setPwd(e.target.value)} />\r\n                    <Button className='mt-2'\r\n                        onClick={click}>Войти</Button>\r\n\r\n                </Form>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}