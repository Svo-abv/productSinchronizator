{"ast":null,"code":"var _jsxFileName = \"F:\\\\Programming\\\\JS\\\\React\\\\productSinchronizator\\\\client\\\\src\\\\pages\\\\Auth.tsx\",\n    _s = $RefreshSig$();\n\nimport { Container, Form, Card, Button } from 'react-bootstrap';\nimport React, { useContext, useState } from 'react';\nimport { loginApi } from '../httpApi/UserApi';\nimport { Context } from '..';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Auth = () => {\n  _s();\n\n  const {\n    user\n  } = useContext(Context);\n  const [name, setName] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const navi = useNavigate();\n\n  const click = async () => {\n    try {\n      const decodeUser = await loginApi(name, pwd);\n      user.isAuth = true;\n      user.user = decodeUser;\n      navi(\"/panel\");\n    } catch (e) {\n      alert(\"Ошибка авторизации!!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      height: window.innerHeight - 54\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        height: '600px'\n      },\n      className: \"p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: pwd,\n          onChange: e => setPwd(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: click,\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Auth, \"7MhrcvgmDQkW/Ro2Dp9rqH+xuGQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["F:/Programming/JS/React/productSinchronizator/client/src/pages/Auth.tsx"],"names":["Container","Form","Card","Button","React","useContext","useState","loginApi","Context","useNavigate","Auth","user","name","setName","pwd","setPwd","navi","click","decodeUser","isAuth","e","alert","height","window","innerHeight","target","value"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,MAAhC,QAA8C,iBAA9C;AACA,OAAOC,KAAP,IAA6BC,UAA7B,EAAyCC,QAAzC,QAAyD,OAAzD;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,OAAT,QAAwB,IAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAUA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AAEf,QAAM;AAAEC,IAAAA;AAAF,MAAWN,UAAU,CAACG,OAAD,CAA3B;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMU,IAAI,GAAGP,WAAW,EAAxB;;AAEA,QAAMQ,KAAK,GAAG,YAAY;AACtB,QAAI;AACA,YAAMC,UAAU,GAAG,MAAMX,QAAQ,CAACK,IAAD,EAAOE,GAAP,CAAjC;AACAH,MAAAA,IAAI,CAACQ,MAAL,GAAc,IAAd;AACAR,MAAAA,IAAI,CAACA,IAAL,GAAYO,UAAZ;AACAF,MAAAA,IAAI,CAAC,QAAD,CAAJ;AAEH,KAND,CAOA,OAAOI,CAAP,EAAU;AACNC,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,GAXD;;AAYA,sBACI,QAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAEC,MAAM,CAACC,WAAP,GAAqB;AAA/B,KAAlB;AAAA,2BACI,QAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEF,QAAAA,MAAM,EAAE;AAAV,OAAb;AAAkC,MAAA,SAAS,EAAC,KAA5C;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAA,gCACI,QAAC,IAAD,CAAM,OAAN;AAAc,UAAA,WAAW,EAAC,+DAA1B;AAAwC,UAAA,KAAK,EAAEV,IAA/C;AAAqD,UAAA,QAAQ,EAAGQ,CAAD,IAAsCP,OAAO,CAACO,CAAC,CAACK,MAAF,CAASC,KAAV;AAA5G;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,UAAA,IAAI,EAAC,UAAnB;AAA8B,UAAA,WAAW,EAAC,iFAA1C;AAA2D,UAAA,KAAK,EAAEZ,GAAlE;AAAuE,UAAA,QAAQ,EAAGM,CAAD,IAAsCL,MAAM,CAACK,CAAC,CAACK,MAAF,CAASC,KAAV;AAA7H;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAET,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CAhCD;;GAAMP,I;UAKWD,W;;;KALXC,I;AAkCN,eAAeA,IAAf","sourcesContent":["import { Container, Form, Card, Button } from 'react-bootstrap'\r\nimport React, { ChangeEvent, useContext, useState } from 'react';\r\nimport { loginApi } from '../httpApi/UserApi';\r\nimport { Context } from '..';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface IUser {\r\n    id: number;\r\n    name: string;\r\n    role: string;\r\n    iat: number;\r\n    exp: number;\r\n}\r\n\r\nconst Auth = () => {\r\n\r\n    const { user } = useContext(Context);\r\n    const [name, setName] = useState(\"\");\r\n    const [pwd, setPwd] = useState(\"\");\r\n    const navi = useNavigate();\r\n\r\n    const click = async () => {\r\n        try {\r\n            const decodeUser = await loginApi(name, pwd);\r\n            user.isAuth = true;\r\n            user.user = decodeUser;\r\n            navi(\"/panel\");\r\n\r\n        }\r\n        catch (e) {\r\n            alert(\"Ошибка авторизации!!\");\r\n        }\r\n    }\r\n    return (\r\n        <Container style={{ height: window.innerHeight - 54 }}>\r\n            <Card style={{ height: '600px' }} className='p-5'>\r\n                <h2>Авторизация</h2>\r\n                <Form>\r\n                    <Form.Control placeholder='Введите имя' value={name} onChange={(e: ChangeEvent<HTMLInputElement>) => setName(e.target.value)} />\r\n                    <Form.Control type='password' placeholder='Введите пароль' value={pwd} onChange={(e: ChangeEvent<HTMLInputElement>) => setPwd(e.target.value)} />\r\n                    <Button onClick={click}>Войти</Button>\r\n\r\n                </Form>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}